from pymongo import MongoClientfrom bson import ObjectIdfrom datetime import datetimeclient = MongoClient("mongodb://localhost:27017")db = client["microblog"]# Коллекцииusers = db["users"]posts = db["posts"]# ПОЛЬЗОВАТЕЛИdef create_user(username: str, email: str, bio: str = ""):    user = {        "username": username,        "email": email,        "bio": bio,        "followers": [],        "following": [],        "created_at": datetime.utcnow()    }    result = users.insert_one(user)    return str(result.inserted_id)def get_user(username: str):    return users.find_one({"username": username})# ПОСТЫdef create_post(user_id: str, text: str, tags: List[str] = []):    post = {        "user_id": user_id,        "text": text,        "tags": tags,        "likes": [],        "created_at": datetime.utcnow()    }    result = posts.insert_one(post)    post_id = str(result.inserted_id)    return post_iddef get_post(post_id: str):    try:        return posts.find_one({"_id": ObjectId(post_id)})    except:        return Nonedef like_post(post_id: str, user_id: str):    posts.update_one(        {"_id": ObjectId(post_id)},        {"$addToSet": {"likes": user_id}}    )    return True